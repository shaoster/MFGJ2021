(this.webpackJsonpmfgj202106=this.webpackJsonpmfgj202106||[]).push([[0],{168:function(e,t,n){},169:function(e,t,n){},312:function(e,t){},315:function(e,t,n){"use strict";n.r(t);var a,r,s=n(5),c=n.n(s),i=n(26),o=n.n(i),l=(n(168),n(15)),d=(n(169),n(156)),u=n(16),O=n(343),h=n(21),E=n(4),N=n(337),I=n(338),b=n(339),R=n(340),j=n(31),T=n(348),p=n(347),F=n(0),m=n(1),G=n(14),f=16,g=60/448;!function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON",e[e.ACCENT=2]="ACCENT"}(a||(a={})),function(e){e[e.INCREMENT=0]="INCREMENT",e[e.DECREMENT=1]="DECREMENT",e[e.ZERO=2]="ZERO",e[e.MAX=3]="MAX",e[e.SHIFT_UP=4]="SHIFT_UP",e[e.SHIFT_RIGHT=5]="SHIFT_RIGHT",e[e.SHIFT_DOWN=6]="SHIFT_DOWN",e[e.SHIFT_LEFT=7]="SHIFT_LEFT",e[e.IGNORE=8]="IGNORE"}(r||(r={}));var v=function(e,t){var n,s=Object(G.a)(t.steps),c=Object(u.a)(e.entries());try{var i=function(){var e=Object(l.a)(n.value,2),c=e[0],i=e[1];s[c]=function(){var e=t.steps[c];switch(i){case r.INCREMENT:return e===a.OFF?a.ON:a.ACCENT;case r.DECREMENT:return e===a.ACCENT?a.ON:a.OFF;case r.MAX:return a.ACCENT;case r.ZERO:return a.OFF;case r.SHIFT_UP:return c+4>f?a.OFF:t.steps[c+4];case r.SHIFT_RIGHT:return c%4===0?a.OFF:t.steps[c-1];case r.SHIFT_DOWN:return c-4<0?a.OFF:t.steps[c-4];case r.SHIFT_LEFT:return c%4+1===4?a.OFF:t.steps[c+1];default:return e}}()};for(c.s();!(n=c.n()).done;)i()}catch(o){c.e(o)}finally{c.f()}t.steps=s},y=function(){function e(t,n,a){Object(F.a)(this,e),this.title=void 0,this.description=void 0,this.image=void 0,this.sampleTarget=void 0,this.pattern=void 0,this.title=t.title,this.description=t.description,this.image=t.image,this.pattern=n,this.sampleTarget=a}return Object(m.a)(e,[{key:"playCard",value:function(e){var t,n=Object(u.a)(e.playerParts);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.sample===this.sampleTarget&&(this.pattern&&v(this.pattern,a))}}catch(r){n.e(r)}finally{n.f()}}}]),e}(),C={makeBed:new y({title:"Make Bed",description:"\n        Good job!\n\n        Pay attention to the order that you\u2019re playing these cards in, or you could really get messed up.\n      "},[r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE],"bd"),cleanChest:new y({title:"Clean Chest",description:"\n        Hey, you've found **ACCENTED** beats!\n        \n        A beat can be **NORMAL** or **ACCENTED**, which just means it's being hit harder.\n      "},[r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE],"bd"),placeBelongings:new y({title:"Place Belongings",description:"\n        Wonderful! You've got yourself a solid foundation.\n\n        Click **NEXT** to continue to the next level.\n      "},[r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.MAX,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE],"bd"),cobwebs:new y({title:"Cobwebs",description:"\n        Why don't we start by dusting away all these cobwebs?\n\n        They sure are layered pretty thick in these corners.\n      "},[r.MAX,r.INCREMENT,r.INCREMENT,r.MAX,r.INCREMENT,r.INCREMENT,r.INCREMENT,r.INCREMENT,r.INCREMENT,r.INCREMENT,r.INCREMENT,r.INCREMENT,r.MAX,r.INCREMENT,r.INCREMENT,r.MAX],"ch"),dust1:new y({title:"Dust 1",description:"\n        ***You do a quick sweep of the whole room.***\n\n        That seemed to clear things up a bunch.\n\n        Let's keep at it!\n      "},[r.IGNORE,r.DECREMENT,r.IGNORE,r.DECREMENT,r.IGNORE,r.DECREMENT,r.IGNORE,r.DECREMENT,r.IGNORE,r.DECREMENT,r.IGNORE,r.DECREMENT,r.IGNORE,r.DECREMENT,r.IGNORE,r.DECREMENT],"ch"),dust2:new y({title:"Dust 2",description:"\n        ***You scrub those hard-to-reach corners.***\n\n        Wow! This bunk is really starting to feel like home!\n\n        Too bad dust got on all the bedsheets; let's launder those ***NEXT***!\n      "},[r.DECREMENT,r.IGNORE,r.IGNORE,r.DECREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.DECREMENT,r.IGNORE,r.IGNORE,r.IGNORE],"ch"),washBedsheets:new y({title:"Wash Bedsheets",description:"\n        ***You wash the bedsheets.***\n      "},[r.IGNORE,r.INCREMENT,r.IGNORE,r.INCREMENT,r.IGNORE,r.INCREMENT,r.IGNORE,r.INCREMENT,r.IGNORE,r.INCREMENT,r.IGNORE,r.INCREMENT,r.IGNORE,r.INCREMENT,r.INCREMENT,r.INCREMENT],"ch"),dryBedsheets:new y({title:"Dry Bedsheets",description:"\n        ***You hang your bedsheets up to dry.***\n      "},[r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT],"ch"),gatherBedsheets:new y({title:"Gather Bedsheets",description:"\n        ***You take down your now dry and fresh bedsheets.***\n\n        Cool! Even moving things around makes music too!\n      "},[r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.MAX,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.MAX,r.IGNORE,r.IGNORE,r.IGNORE],"bd"),placeBedsheets:new y({title:"Place Bedsheets",description:"\n        ***You re-make the bed with the fresh bedsheets.***\n\n        I hear a knock on the door. Let's see what's ***NEXT***.\n      "},[r.SHIFT_UP,r.SHIFT_UP,r.SHIFT_UP,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_DOWN,r.SHIFT_DOWN,r.SHIFT_DOWN,r.SHIFT_UP,r.SHIFT_UP,r.SHIFT_UP,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_DOWN,r.SHIFT_DOWN,r.SHIFT_DOWN],"bd"),layFlat:new y({title:"Lay Flat",description:"Lay your shirt flat on your bed. The foundation of any laundry folding routine."},[r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE],"sd"),fold:new y({title:"Fold",description:"Fold your shirt. Add some complexity! (Assuming you have something to start with...)"},[r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE],"sd"),putAway:new y({title:"Put Away",description:"Put away your freshly folded clothes."},[r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.MAX,r.IGNORE,r.IGNORE,r.IGNORE],"sd"),drop:new y({title:"The Mess",description:"Oops! You dropped your [?] all over the floor. What a mess..."},[r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX],"bd"),mop:new y({title:"Mop",description:"Mop the floor. This mess might be a bit too much to soak up though."},[r.IGNORE,r.IGNORE,r.DECREMENT,r.DECREMENT,r.IGNORE,r.IGNORE,r.DECREMENT,r.DECREMENT,r.IGNORE,r.IGNORE,r.DECREMENT,r.DECREMENT,r.IGNORE,r.IGNORE,r.DECREMENT,r.DECREMENT],"bd"),sweep:new y({title:"Sweep",description:"Sweep the floor. It's a bit hard to get the corners though.."},[r.IGNORE,r.IGNORE,r.DECREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.DECREMENT,r.DECREMENT,r.IGNORE,r.IGNORE,r.DECREMENT,r.DECREMENT,r.IGNORE,r.IGNORE,r.DECREMENT,r.IGNORE],"bd"),vacuum:new y({title:"Vacuum",description:"Suck up whatever is left."},[r.IGNORE,r.IGNORE,r.IGNORE,r.DECREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.DECREMENT],"bd"),emptyTrash:new y({title:"Empty Trash",description:"Those bins were chalk full of [???]! Much better now..."},[r.IGNORE,r.ZERO,r.IGNORE,r.IGNORE,r.IGNORE,r.ZERO,r.IGNORE,r.IGNORE,r.IGNORE,r.ZERO,r.IGNORE,r.IGNORE,r.IGNORE,r.ZERO,r.IGNORE,r.IGNORE],"bd"),feast:new y({title:"Feast",description:"What a delicious meal! What are we going to do about all the dishes?"},[r.INCREMENT,r.INCREMENT,r.IGNORE,r.IGNORE,r.INCREMENT,r.INCREMENT,r.IGNORE,r.MAX,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.MAX,r.IGNORE,r.MAX,r.MAX],"ch"),rearrange:new y({title:"Rearrange",description:"All the chairs and tables have been moved away from their original places!"},[r.SHIFT_LEFT,r.SHIFT_UP,r.SHIFT_LEFT,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_RIGHT,r.SHIFT_DOWN,r.SHIFT_RIGHT],"ch"),bus:new y({title:"Bus",description:"What a delicious meal! What are we going to do about all the dishes?"},[r.SHIFT_LEFT,r.SHIFT_LEFT,r.SHIFT_LEFT,r.SHIFT_UP,r.SHIFT_DOWN,r.IGNORE,r.IGNORE,r.SHIFT_UP,r.SHIFT_DOWN,r.IGNORE,r.IGNORE,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_RIGHT,r.SHIFT_RIGHT,r.SHIFT_RIGHT],"ch"),rinse:new y({title:"Rinse",description:"Rinse the dishes. This will make them easier to clean."},[r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.SHIFT_LEFT,r.SHIFT_UP,r.SHIFT_LEFT,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_RIGHT,r.SHIFT_DOWN,r.SHIFT_RIGHT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE],"ch"),scour:new y({title:"Scour",description:"Scour the dishes. Really put your back into it."},[r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_UP,r.SHIFT_UP,r.SHIFT_RIGHT,r.SHIFT_DOWN,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_DOWN,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT],"ch"),dry:new y({title:"Dry",description:"Let the dishes dry. What a lovely sight!"},[r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT],"ch"),laundry:new y({title:"Laundry",description:"Do the laundry. You know how!"},[r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.MAX,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.MAX,r.IGNORE,r.IGNORE,r.IGNORE],"sd"),floor:new y({title:"Floor",description:"Clean the floor. You know how!"},[r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE],"bd"),dishes:new y({title:"Dishes",description:"Do the dishes. You know how!"},[r.INCREMENT,r.IGNORE,r.MAX,r.IGNORE,r.INCREMENT,r.IGNORE,r.MAX,r.IGNORE,r.INCREMENT,r.IGNORE,r.MAX,r.IGNORE,r.INCREMENT,r.IGNORE,r.MAX,r.IGNORE],"ch")},x=n(316),S=n(345),k=n(336),H=n(10),w=["classSequence"],M=["parts","currentlyPlayingStep","tabIndex","setTabIndex"],_=["parts","currentlyPlayingStep","tabIndex","setTabIndex"];function A(e){var t=e.classSequence,n=(Object(h.a)(e,w),Object(j.chunk)(t,4));return Object(H.jsx)(H.Fragment,{children:n.map((function(e,t){return Object(H.jsx)("tr",{className:"row",children:e.map((function(e,t){return Object(H.jsx)("td",{className:e,children:Object(H.jsx)(x.a,{className:"step",variant:"outlined"})},"col "+t)}))},"row "+t)}))})}function D(e){var t=e.parts,n=e.currentlyPlayingStep,r=e.tabIndex,c=e.setTabIndex,i=Object(h.a)(e,M),o=t[r],l=o.steps,d=o.sample,u=Object(j.take)(l,f).map((function(e,t){var r="cell ";return r+=a[e]+" ",null!==n&&t===n%f&&(r+="playing"),r}));return Object(s.createElement)("table",Object(E.a)(Object(E.a)({},i),{},{key:r}),Object(H.jsx)("caption",{children:Object(H.jsx)(S.a,{variant:"fullWidth",value:r,onChange:function(e,t){return c(t)},className:"part-selector",children:t.map((function(e,t){return Object(H.jsx)(k.a,{label:e.sample,style:{minWidth:48}},"tab "+t)}))})}),Object(H.jsx)("tbody",{className:d,children:Object(H.jsx)(A,{classSequence:u})}))}function L(e){var t=e.parts,n=e.currentlyPlayingStep,a=e.tabIndex,r=e.setTabIndex,s=Object(h.a)(e,_);return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(D,Object(E.a)({parts:t,tabIndex:a,setTabIndex:r,currentlyPlayingStep:n},s))})}var P=["cards","buttonLabel","onClickCard","unremovable","className","emphasizeButton"];function W(e){var t,n=e.cardId,a=e.cardIndex,s=e.buttonLabel,c=e.onClickCard,i=e.onClickEnabled,o=e.viewCard,l=e.isSelected,d=e.emphasizeButton,u=e.leftOffset,O=C[n],h=null===(t=O.pattern)||void 0===t?void 0:t.map((function(e){return"cell "+r[e]}));return Object(H.jsxs)(N.a,{variant:"outlined",className:"card "+O.sampleTarget+(l?" selected":""),onClick:o,style:{marginLeft:u+"px"},children:[Object(H.jsx)(I.a,{children:h&&Object(H.jsx)("table",{className:"pattern",children:Object(H.jsx)("tbody",{children:Object(H.jsx)(A,{classSequence:h})})})}),Object(H.jsx)(b.a,{children:i?Object(H.jsx)(R.a,{variant:"contained",onClick:function(e){c(a),e.stopPropagation()},disabled:!l,className:d?"emphasis":"",children:s}):Object(H.jsx)("div",{className:"card-fixed",children:"FIXED"})})]})}var X=function(e,t){switch(t.type){case"enter":return Object(E.a)(Object(E.a)({},e),{},{renderedCardCount:e.renderedCardCount+1});case"exited":return Object(E.a)(Object(E.a)({},e),{},{renderedCardCount:e.renderedCardCount-1});case"select-card":var n=t.value!==e.selectedCard?t.value:t.value<e.cardCount-1?t.value+1:0,a=Object(j.range)(6).map((function(e){return"card-"+function(e){return e<n?"displace":"show"}(e)}));return Object(E.a)(Object(E.a)({},e),{},{cardClasses:a,selectedCard:n});case"reset":return Object(E.a)(Object(E.a)({},t.value),{},{renderedCardCount:e.renderedCardCount});default:throw new Error("Unrecognized action.")}};function B(e){var t=e.cards,n=e.buttonLabel,a=e.onClickCard,r=e.unremovable,c=e.className,i=e.emphasizeButton,o=(Object(h.a)(e,P),Object(j.range)(6).map((function(){return"card-show"}))),d=Object(s.useReducer)(X,{cardCount:t.length,selectedCard:0,cardClasses:o,renderedCardCount:t.length}),u=Object(l.a)(d,2),O=u[0],E=u[1];return Object(s.useEffect)((function(){t.length!==O.cardCount&&E({type:"reset",value:{cardCount:t.length,selectedCard:0,cardClasses:o}})}),[t.length,o,O.cardCount]),Object(H.jsx)("div",{className:"sequence "+c,children:Object(H.jsx)(T.a,{component:null,children:t.map((function(e,s){return Object(H.jsx)(p.a,{enter:!0,exit:!0,classNames:"card",timeout:200,onEnter:function(){return E({type:"enter",value:t.length})},onExited:function(){return E({type:"exited",value:t.length})},children:Object(H.jsxs)("div",{className:"card-slot "+O.cardClasses[s],style:{zIndex:6-s},children:[Object(H.jsx)(W,{cardId:e,cardIndex:s,buttonLabel:n,onClickCard:function(){return a(s)},onClickEnabled:t.length-s>r,viewCard:function(){E({type:"select-card",value:s})},isSelected:s===O.selectedCard,emphasizeButton:i,leftOffset:18*(6-O.renderedCardCount-1)}),t.length-s>r&&Object(H.jsx)("div",{className:"card-order",onClick:function(){return E({type:"select-card",value:s})},children:t.length-s-r})]})},e)}))})})}var U=n(41),Y=n(346),q="/mfgj202106/samples/levels/",z=[{albumIndex:0,title:"The Baseline Bass",description:["We'll start simple.","The first step to any rhythm is the foundation you build on."],levelTrack:"".concat(q,"unmixed_0_1_112_bpm.ogg"),targetParts:[{sample:"bd",steps:[a.ACCENT,a.OFF,a.OFF,a.OFF,a.ON,a.OFF,a.OFF,a.OFF,a.ACCENT,a.OFF,a.OFF,a.OFF,a.ON,a.OFF,a.OFF,a.OFF]}],startingHand:["makeBed","cleanChest","placeBelongings"],startingSchedule:[],hints:["Use the cards in your hand to modify those beats on your grid.","See if you can't make your grid look like mine."]},{albumIndex:0,title:"The Bunk: Part II",description:["Hmmm... I can't seem to find ??? anywhere.","Might as well keep cleaning.","Let's make this bunk sparkle!"],levelTrack:"".concat(q,"unmixed_0_1_112_bpm.ogg"),targetParts:[{sample:"ch",steps:[a.ON,a.OFF,a.ON,a.OFF,a.ON,a.OFF,a.ON,a.OFF,a.ON,a.OFF,a.ON,a.OFF,a.ON,a.OFF,a.ON,a.ON]}],startingHand:["dust1","dust2"],startingSchedule:["cobwebs"],hints:["Why don't we start by dusting away all these cobwebs?","They sure are layered pretty thick in these corners."]},{albumIndex:0,title:"The Bunk: Part III",description:["??? is still nowhere to be found.","Might as well clean those bedsheets then."],levelTrack:"".concat(q,"unmixed_0_1_112_bpm.ogg"),targetParts:[{sample:"ch",steps:[a.ON,a.OFF,a.ON,a.OFF,a.ON,a.OFF,a.ON,a.OFF,a.ON,a.OFF,a.ON,a.OFF,a.ON,a.OFF,a.ON,a.ON]},{sample:"bd",steps:[a.ACCENT,a.OFF,a.OFF,a.OFF,a.ON,a.OFF,a.OFF,a.OFF,a.ACCENT,a.OFF,a.OFF,a.OFF,a.ON,a.OFF,a.OFF,a.OFF]}],startingHand:["washBedsheets","dryBedsheets","gatherBedsheets","placeBedsheets"],startingSchedule:[],hints:["Is the music guiding me somehow?"]},{albumIndex:1,title:"After Dinner",description:["Everything's right back in its place.","You can head to the mess hall now.","[???] will serve you your dinner."],levelTrack:"".concat(q,"unmixed_1_3_88_bpm.ogg"),targetParts:[{sample:"ch",steps:[a.ON,a.OFF,a.ACCENT,a.OFF,a.ON,a.OFF,a.ACCENT,a.OFF,a.ON,a.OFF,a.ACCENT,a.OFF,a.ON,a.OFF,a.ACCENT,a.OFF]}],startingHand:["rearrange","bus","rinse","scour","dry"],startingSchedule:["feast"],hints:["You've been working hard! You've arrived just in time for dinner.","Err.. Or rather, just in time for cleaning the tables and dishes from dinner..."]}];function Z(e){var t=e.turn,n=e.onDismiss,a=Object(s.useState)(t),r=Object(l.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)(!0),d=Object(l.a)(o,2),u=d[0],O=d[1];Object(s.useEffect)((function(){t!==c&&O(!0)}),[c,t]);var h=function(){O(!1),i(t),n()},E=z[t-1];return Object(H.jsx)(Y.a,{open:u,onClose:h,onClick:h,children:Object(H.jsx)(x.a,{variant:"outlined",className:"event-modal",children:Object(H.jsxs)("div",{className:"event-body",children:[Object(H.jsx)("h1",{children:E.title}),E.description.map((function(e,t){return Object(H.jsx)("p",{children:e},t)})),Object(H.jsx)("p",{children:Object(H.jsx)("em",{children:"Press Escape or click/tap anywhere to continue..."})})]})})})}var J=n(341);function V(e){var t=e.progress,n=e.max;return Object(H.jsx)(J.a,{className:"progress-bar",variant:"determinate",value:100*(null===t?0:t+1)/n})}var $=n(344),K=n(55),Q=n.n(K),ee=n(342);function te(e){for(var t,n,a,r=/^([ \t]*)(.*)\n/gm;null!==(n=r.exec(e));)if(n[2]){if(!(t=n[1].length))break;a=void 0!==a?Math.min(a,t):t}return a&&(e=e.replace(new RegExp("^[ \t]{"+a+"}(.*\n)","gm"),"$1")),e}var ne=["children","onClick","tutorialMd","showTutorial","onAcknowledge","className"];function ae(e){var t=e.children,n=e.onClick,a=e.tutorialMd,r=e.showTutorial,i=e.onAcknowledge,o=e.className,d=Object(h.a)(e,ne),u=Object(s.useRef)(null),O=c.a.useState(null),N=Object(l.a)(O,2),I=N[0],b=N[1],T=Object(s.useState)(Object(j.uniqueId)()),p=Object(l.a)(T,1)[0];return Object(s.useEffect)((function(){u.current&&b(u.current)}),[u]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(R.a,Object(E.a)(Object(E.a)({},d),{},{className:r?o?"".concat(o," glow"):"glow":o,"aria-describedby":p,ref:u,onClick:function(e){n(),i()},children:t})),Object(H.jsx)(ee.a,{id:p,anchorEl:I,placement:"bottom",open:r,children:Object(H.jsxs)(x.a,{className:"tutorial-popper",children:[Object(H.jsx)("div",{className:"up-arrow",children:"\xa0"}),Object(H.jsx)(Q.a,{children:te(null!==a&&void 0!==a?a:"")})]})})]})}var re=[{key:"start-stop",textMarkdown:"\n      Click here to replay the steps in the current grid or to stop if the music is already playing.\n\n      Notice the sounds (or lack thereof) made when the steps light up below!\n    "},{key:"goal",textMarkdown:"\n      Didn't quite catch what pattern you were supposed to match?\n\n      Click here to see and hear it again!\n    "},{key:"current",textMarkdown:"\n      Want to switch back to what your current pattern looks like while the music is playing?\n\n      Click this button to swap back to your current pattern!\n\n      Try switching back and forth between **MY PARTS** and **GOAL**!\n    "},{key:"reset",textMarkdown:"\n      Next, try clicking **PLACE** on the cards to the left.\n\n      Notice how they are added to the schedule on the right?\n\n      In both the **TO-DO** and **Schedule**, you can click on the body of the cards to flip through them.\n\n      (This becomes critical on later levels when order matters!)\n\n      Also notice that you can **REMOVE** any cards you **PLACE**.\n\n      Click **RESET** here to restore the level to its original state and continue.\n    "},{key:"next",textMarkdown:"\n      That's pretty much it for the tutorial!\n\n      Once you've clicked **PLACE** on all the cards in your **TO-DO**, the **NEXT** button will light up.\n\n      When you think you've got a pretty good handle on what these buttons do, click **NEXT** to continue.\n    "}];function se(e){var t=e.skip,n=e.dialogue,a=e.header,r=Object(s.useState)(0),c=Object(l.a)(r,2),i=c[0],o=c[1];return Object(H.jsx)(x.a,{variant:"outlined",className:"cutscene",onClick:function(e){e.stopPropagation(),i+1<n.length&&o(i+1)},children:Object(H.jsxs)("div",{className:"cutscene-body",children:[a||Object(H.jsx)(H.Fragment,{}),Object(H.jsx)("div",{className:"continue-or-skip",children:i+1<n.length?Object(H.jsxs)(H.Fragment,{children:["Click anywhere to continue or",Object(H.jsx)(R.a,{variant:"contained",onClick:t,children:"Skip"})]}):Object(H.jsx)(R.a,{variant:"contained",onClick:t,children:"Continue"})}),Object(H.jsx)("hr",{}),Object(j.take)(n,i+1).map((function(e,t){return Object(H.jsx)(Q.a,{className:"dialog "+e.speaker+(t===i?" current":""),children:e.text})})),Object(H.jsx)("div",{className:"continue-or-skip",children:i+1>=n.length&&Object(H.jsx)(R.a,{variant:"contained",onClick:t,children:"Continue"})})]})})}var ce=[{title:"Mastering Rhythm",dialogue:[{speaker:"neon",text:"Master Cadence, I\u2019ve traveled too far to come here. I *demand* that you teach me rhythm."},{speaker:"cadence",text:"Well **that's** a fine \u2018good morning\u2019. What's your name?"},{speaker:"neon",text:"It's Neon, lady."},{speaker:"cadence",text:"Well, Neon, I\u2019m afraid I can't teach you anything new without fixing what you already have."},{speaker:"neon",text:"Wh\u2026 huh?"},{speaker:"cadence",text:"Step inside, we\u2019ve got a lot of work to do."}]}];var ie=function(e){var t=e.index,n=e.acknowledge,a=ce[t];return Object(H.jsx)(Y.a,{open:!0,onClose:n,onClick:n,children:Object(H.jsx)(se,{skip:n,dialogue:a.dialogue,header:Object(H.jsxs)("h1",{children:["Album ",t,": ",a.title]})})})},oe={cy:{pitch:"f4",duration:"2n"},bd:{pitch:"e4",duration:"16n"},ch:{pitch:"d4",duration:"16n"},sd:{pitch:"c4",duration:"16n"}},le=new U.b({urls:{f4:"CY/E808_CY-12[short].ogg",e4:"BD/E808_BD[short]-03.wav",d4:"CH/E808_CH-06.wav",c4:"SD/E808_SD-07.wav"},baseUrl:"/mfgj202106/samples/808/"}).toDestination();function de(){return Object(H.jsxs)("div",{className:"credits",children:[Object(H.jsx)("p",{children:"Programming & Dev Lead: @shaoster"}),Object(H.jsx)("p",{children:"Sound Design: @SoundFont+"}),Object(H.jsx)("p",{children:"Art and Writing: @soupsong"}),Object(H.jsx)("p",{children:Object(H.jsx)("em",{children:"Made for My First Game Jam: Summer 2021"})})]})}var ue=[{speaker:"neon",text:"I don't get it, Avery! I'm a musical genius, top of my class and top of my game, making new music should be easy! But no matter what I do, nothing good comes out. I just feel so stuck..."},{speaker:"avery",text:"Maybe you should see Master Cadence?"},{speaker:"neon",text:"What?"},{speaker:"avery",text:"Rhythm Master Cadence, she lives kind of clo--"},{speaker:"neon",text:"I *know* who Master Cadence is, and I'm not going to get her help. Do I look like a baby to you?"},{speaker:"avery",text:"N-- No, no! I just thought that if you needed help, going back to basics would be a good place to sta--"},{speaker:"neon",text:"*Help?* I'm *fine* by myself! If your idea of 'help' is sending me to someone who\u2019s going to teach me my *quarter notes*, just leave now."},{speaker:"avery",text:"...Yeah, okay. I'll leave. When you *do* realize you need help, go to Master Cadence, since I can't do anything else for you."},{speaker:"avery",text:"Goodbye, Neon."},{speaker:"neon",text:"Wait-- No, wait, Avery, I didn't mean it!! I'm sorry, I-- Hey, don't--!! Leave me\u2026 Alright Master Cadence, where are you?"}],Oe=Object(s.forwardRef)((function(e,t){return Object(H.jsxs)(x.a,{variant:"outlined",className:"intro",ref:t,children:[Object(H.jsxs)("div",{className:"intro-body",children:[Object(H.jsx)("h1",{children:"The Neon Slide"}),Object(H.jsx)("h3",{children:"A game about finding your sound"}),Object(H.jsx)("h3",{children:"(and getting out of that funk!!!)"}),Object(H.jsx)("p",{children:Object(H.jsx)("em",{children:"Press Escape or click/tap anywhere to continue..."})})]}),Object(H.jsx)(de,{})]})}));function he(e){var t=e.show,n=e.acknowledge,a=Object(s.useState)(!1),r=Object(l.a)(a,2),c=r[0],i=r[1],o=function(){c?n():i(!0)};return Object(H.jsx)(Y.a,{open:t,onClose:o,onClick:o,children:c?Object(H.jsx)(se,{skip:n,dialogue:ue}):Object(H.jsx)(Oe,{})})}var Ee=n(12),Ne=function(e,t){var n,r,s,c=z[e-1],i=c.targetParts.map((function(e){return{sample:e.sample,steps:Array.from({length:f},(function(){return a.OFF}))}})),o=Object(E.a)(Object(E.a)({},c),{},{playerParts:i,playerHand:Object(G.a)(c.startingHand),playerSchedule:Object(G.a)(null!==(n=c.startingSchedule)&&void 0!==n?n:[]),hasClearedLevel:null!==(r=null===t||void 0===t?void 0:t.hasClearedLevel)&&void 0!==r&&r});return(null!==(s=c.startingSchedule)&&void 0!==s?s:[]).forEach((function(e){return C[e].playCard(o)})),o},Ie=function(e){var t,n=Object(u.a)(e.targetParts.entries());try{for(n.s();!(t=n.n()).done;)for(var a=Object(l.a)(t.value,2),r=a[0],s=a[1],c=e.playerParts[r],i=0;i<f;i++)if(c.steps[i]!==s.steps[i])return!1}catch(o){n.e(o)}finally{n.f()}return!0},be={moves:{playCard:function(e,t,n){var a=e.playerHand[n],r=C[a];if(!r)return Ee.x;r.playCard(e),e.playerHand.splice(n,1),e.playerSchedule.unshift(a),Ie(e)&&(e.hasClearedLevel=!0)},removeCard:function(e,t,n){if(e.playerSchedule.length-n<=e.startingSchedule.length)return Ee.x;var a=e.playerSchedule[n];if(!a)return Ee.x;var r=Ne(t.turn,e);r.playerHand=Object(G.a)(e.playerHand),r.playerHand.unshift(a);var s=Object(j.reverse)(Object(G.a)(e.playerSchedule));console.log(s);var c,i=Object(u.a)(s.entries());try{for(i.s();!(c=i.n()).done;){var o=Object(l.a)(c.value,2),d=o[0],O=o[1];if(e.playerSchedule.length-d-1!==n)if(!(d<e.startingSchedule.length))C[O].playCard(r),r.playerSchedule.unshift(O)}}catch(h){i.e(h)}finally{i.f()}return Ie(r)&&(e.hasClearedLevel=!0),r},clearSchedule:function(e,t){return Ie(e)&&(e.hasClearedLevel=!0),Ne(t.turn,e)},commitSchedule:function(e,t){var n,a;e.hasClearedLevel&&(null===(n=t.events)||void 0===n||null===(a=n.endTurn)||void 0===a||a.call(n))}},turn:{onBegin:function(e,t){return Ne(t.turn)}}},Re=Object(d.a)({game:be,board:function(e){var t=e.G,n=e.ctx,r=e.moves,c=t.title,i=t.hasClearedLevel,o=t.hints,d=t.levelTrack,h=t.playerParts,E=t.targetParts,N=t.playerHand,I=t.playerSchedule,b=t.startingSchedule,R=t.overrideTrackBars,T=t.overrideBPM,F=t.albumIndex,m=null!==R&&void 0!==R?R:4,G=null!==T&&void 0!==T?T:112;Object(s.useEffect)((function(){return U.d.bpm.value=G,U.e(),U.d.start(),function(){U.d.stop()}}),[G]);var v=Object(s.useState)(o),y=Object(l.a)(v,2),x=y[0],S=y[1],k=Object(s.useState)(0),w=Object(l.a)(k,2),M=w[0],_=w[1];Object(s.useEffect)((function(){if(I.length===b.length&&S(o),I.length>0){var e=C[I[0]],t=h.findIndex((function(t){return t.sample===e.sampleTarget}));t>=0&&_(t)}}),[o,h,I,b.length]),Object(s.useEffect)((function(){_(0)}),[n.turn]);var A=Object(s.useState)(null),D=Object(l.a)(A,2),P=D[0],W=D[1],X=Object(s.useState)(null),Y=Object(l.a)(X,2),q=Y[0],z=Y[1],J=Object(s.useState)(void 0),K=Object(l.a)(J,2),ee=K[0],ne=K[1],se=Object(s.useState)(!1),ce=Object(l.a)(se,2),de=ce[0],ue=ce[1],Oe=Object(s.useState)(!0),he=Object(l.a)(Oe,2),Ee=he[0],Ne=he[1],Ie=Object(s.useState)(null),be=Object(l.a)(Ie,2),Re=be[0],je=be[1],Te=Object(s.useState)(null),pe=Object(l.a)(Te,2),Fe=pe[0],me=pe[1],Ge=function(e,t){ne(e),W(t)},fe=function(){if(!de){var e=new U.c(Ge,Object(j.range)(f*m+1),"16n");ge(),me(e);var t=new U.a(d,(function(){ue(!0),U.e(),e.loop=!1,e.start()})).toDestination();je(t),t.loop=!1,t.autostart=!0}},ge=Object(s.useCallback)((function(){de&&(ne(void 0),z(null),W(null),null===Fe||void 0===Fe||Fe.stop(),me(null),null===Re||void 0===Re||Re.stop(),je(null),ue(!1),Ne(!0))}),[de,Fe,Re]),ve=function(){var e=Object(s.useState)(-1),t=Object(l.a)(e,2),n=t[0],a=t[1];return[n>=0?re[n]:void 0,function(e){if("undefined"===typeof e)a(0);else{var t=re.findIndex((function(t){return t.key===e}))+1;t===n+1&&a(t)}},function(){a(-1)}]}(),ye=Object(l.a)(ve,2),Ce=ye[0],xe=ye[1];Object(s.useEffect)((function(){if(q!==P&&"undefined"!==typeof ee&&null!==P&&de)if(P>=f*m)ge();else{z(P);var e,t=P%f,n=Ee?h:E,r=Object(u.a)(n);try{for(r.s();!(e=r.n()).done;){var s=e.value;s.steps[t]!==a.OFF&&le.triggerAttackRelease(oe[s.sample].pitch,oe[s.sample].duration,ee,s.steps[t]/2)}}catch(c){r.e(c)}finally{r.f()}}}),[ee,h,E,P,q,Ee,de,ge,m]);var Se=Object(s.useState)(-1),ke=Object(l.a)(Se,2),He=ke[0],we=ke[1];return F>He?Object(H.jsx)(ie,{index:F,acknowledge:function(){return we(F)}}):Object(H.jsxs)(O.a,{container:!0,className:"game-board",alignItems:"center",justify:"center",children:[Object(H.jsx)(Z,{turn:n.turn,onDismiss:function(){Ne(!1),fe(),1===n.turn&&xe()}},"ld:"+n.turn),Object(H.jsx)(O.a,{item:!0,xs:12,children:Object(H.jsx)("h1",{children:c})},"title"),Object(H.jsx)(O.a,{item:!0,xs:3,className:"pc-area portrait-area",children:Object(H.jsx)("div",{className:"pc portrait",children:"\xa0"})},"pc-area"),Object(H.jsxs)(O.a,{item:!0,xs:6,className:"parts-area",children:[Object(H.jsxs)(O.a,{container:!0,className:"parts",justify:"center",children:[Object(H.jsx)(O.a,{item:!0,xs:1,children:de&&Object(H.jsx)("span",{children:((null!==P&&void 0!==P?P:0)*g).toFixed(1)})},"time-elapsed"),Object(H.jsx)(O.a,{item:!0,xs:10,children:Object(H.jsx)(V,{progress:P,max:m*f})},"progress"),Object(H.jsx)(O.a,{item:!0,xs:1,children:de&&Object(H.jsx)("span",{children:((m*f-(null!==P&&void 0!==P?P:0))*g).toFixed(1)})},"time-remaining"),Object(H.jsx)(O.a,{item:!0,xs:5,className:"my-parts",children:Object(H.jsx)(ae,{variant:"contained",disabled:Ee,className:Ee?"selected":"",showTutorial:"current"===(null===Ce||void 0===Ce?void 0:Ce.key),tutorialMd:null===Ce||void 0===Ce?void 0:Ce.textMarkdown,onClick:function(){Ne(!0),fe()},onAcknowledge:function(){return xe("current")},children:"My Parts"})}),Object(H.jsx)(O.a,{item:!0,xs:2,className:"start-stop",children:Object(H.jsx)(ae,{className:de?"stop":"play",onClick:de?ge:fe,tutorialMd:null===Ce||void 0===Ce?void 0:Ce.textMarkdown,showTutorial:"start-stop"===(null===Ce||void 0===Ce?void 0:Ce.key),onAcknowledge:function(){return xe("start-stop")},children:"\xa0"},de?"stop":"play")},"start-stop"),Object(H.jsx)(O.a,{item:!0,xs:5,className:"target-parts",children:Object(H.jsx)(ae,{variant:"contained",disabled:!Ee,className:Ee?"":"selected",onClick:function(){Ne(!1),fe()},tutorialMd:null===Ce||void 0===Ce?void 0:Ce.textMarkdown,showTutorial:"goal"===(null===Ce||void 0===Ce?void 0:Ce.key),onAcknowledge:function(){return xe("goal")},children:"Goal"})}),Object(H.jsx)(O.a,{item:!0,xs:12,className:"current-parts",children:Object(H.jsx)($.a,{children:Object(H.jsx)(p.a,{timeout:200,classNames:Ee?"current":"target",children:Object(H.jsx)(L,{parts:Ee?h:E,currentlyPlayingStep:P,className:"sampler "+(Ee?"current":"target"),tabIndex:M,setTabIndex:_})},Ee?"current":"target")})})]},"parts"),Object(H.jsx)(O.a,{item:!0,xs:12,className:"dialogue",children:"undefined"!==typeof x&&Object(H.jsx)("div",{children:Object(H.jsx)(Q.a,{children:te(x.join("\n\n"))})})})]}),Object(H.jsx)(O.a,{item:!0,xs:3,className:"npc-area portrait-area",children:Object(H.jsx)("div",{className:"npc portrait",children:"\xa0"})},"npc-area"),Object(H.jsxs)(O.a,{item:!0,xs:5,className:"hand-area",children:[Object(H.jsx)("div",{className:"label",children:Object(H.jsx)("h3",{children:"To-Do"})}),Object(H.jsx)(B,{cards:N,onClickCard:function(e){r.playCard(e),Ne(!0),fe(),function(e){var t=C[N[e]];t&&S([t.description])}(e)},buttonLabel:"Place",className:"hand",unremovable:0,emphasizeButton:!i&&"reset"===(null===Ce||void 0===Ce?void 0:Ce.key)},"hand:"+n.turn)]},"hand-area"),Object(H.jsx)(O.a,{item:!0,xs:2,className:"next-day",children:Object(H.jsxs)(O.a,{container:!0,children:[Object(H.jsx)(O.a,{item:!0,xs:12,children:Object(H.jsx)(ae,{variant:"contained",onClick:r.clearSchedule,tutorialMd:null===Ce||void 0===Ce?void 0:Ce.textMarkdown,showTutorial:"reset"===(null===Ce||void 0===Ce?void 0:Ce.key),onAcknowledge:function(){return xe("reset")},children:"Reset"})}),Object(H.jsx)(O.a,{item:!0,xs:12,className:"break"}),Object(H.jsx)(O.a,{item:!0,xs:12,children:Object(H.jsx)(ae,{variant:"contained",onClick:function(){r.commitSchedule(),ge()},disabled:!t.hasClearedLevel,className:t.hasClearedLevel?"glow":"",showTutorial:"next"===(null===Ce||void 0===Ce?void 0:Ce.key),tutorialMd:null===Ce||void 0===Ce?void 0:Ce.textMarkdown,onAcknowledge:function(){return xe("next")},children:"next"})})]})},"next-day"),Object(H.jsxs)(O.a,{item:!0,xs:5,className:"schedule-area",children:[Object(H.jsx)("div",{className:"label",children:Object(H.jsx)("h3",{children:"Schedule"})}),Object(H.jsx)(B,{cards:I,onClickCard:function(e){r.removeCard(e),fe()},buttonLabel:"Remove",className:"schedule",unremovable:t.startingSchedule.length,emphasizeButton:"reset"===(null===Ce||void 0===Ce?void 0:Ce.key)},"schedule:"+n.turn)]},"schedule-area")]})},numPlayers:1,debug:!0});var je=function(){var e=Object(s.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1];return n?Object(H.jsx)(he,{show:n,acknowledge:function(){return a(!1)}}):Object(H.jsx)(Re,{})},Te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,349)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};o.a.render(Object(H.jsx)(je,{}),document.getElementById("root")),Te()}},[[315,1,2]]]);
//# sourceMappingURL=main.1274d7d1.chunk.js.map