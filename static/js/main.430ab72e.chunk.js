(this.webpackJsonpmfgj202106=this.webpackJsonpmfgj202106||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},147:function(e,t){},150:function(e,t,a){"use strict";a.r(t);var n,r,s=a(5),c=a(23),i=a.n(c),l=(a(107),a(108),a(97)),O=a(16),o=a(15),d=a(176),E=a(178),N=a(13),u=a(21),F=a(173),I=a(174),h=a(175),R=a(38),T=a(183),b=a(182),p=a(0),j=a(1),G=16,m=60/352;!function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON",e[e.ACCENT=2]="ACCENT"}(n||(n={})),function(e){e[e.INCREMENT=0]="INCREMENT",e[e.DECREMENT=1]="DECREMENT",e[e.ZERO=2]="ZERO",e[e.MAX=3]="MAX",e[e.SHIFT_UP=4]="SHIFT_UP",e[e.SHIFT_RIGHT=5]="SHIFT_RIGHT",e[e.SHIFT_DOWN=6]="SHIFT_DOWN",e[e.SHIFT_LEFT=7]="SHIFT_LEFT",e[e.IGNORE=8]="IGNORE"}(r||(r={}));var C=function(e,t){var a,s=Object(N.a)(t.steps),c=Object(O.a)(e.entries());try{var i=function(){var e=Object(o.a)(a.value,2),c=e[0],i=e[1];s[c]=function(){var e=t.steps[c];switch(i){case r.INCREMENT:return e===n.OFF?n.ON:n.ACCENT;case r.DECREMENT:return e===n.ACCENT?n.ON:n.OFF;case r.MAX:return n.ACCENT;case r.ZERO:return n.OFF;case r.SHIFT_UP:return c+4>G?n.OFF:t.steps[c+4];case r.SHIFT_RIGHT:return c%4===0?n.OFF:t.steps[c-1];case r.SHIFT_DOWN:return c-4<0?n.OFF:t.steps[c-4];case r.SHIFT_LEFT:return c%4+1===4?n.OFF:t.steps[c+1];default:return e}}()};for(c.s();!(a=c.n()).done;)i()}catch(l){c.e(l)}finally{c.f()}t.steps=s},f=function(){function e(t,a,n){Object(p.a)(this,e),this.title=void 0,this.description=void 0,this.image=void 0,this.sampleTarget=void 0,this.pattern=void 0,this.title=t.title,this.description=t.description,this.image=t.image,this.pattern=a,this.sampleTarget=n}return Object(j.a)(e,[{key:"playCard",value:function(e){var t,a=Object(O.a)(e.playerParts);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.sample===this.sampleTarget&&(this.pattern&&C(this.pattern,n))}}catch(r){a.e(r)}finally{a.f()}}}]),e}(),v={makeBed:new f({title:"Make Bed",description:"If you make your bed every morning, you will have accomplished the first task of the day."},[r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE],"bd"),cleanChest:new f({title:"Clean Chest",description:"Next to the bed is a small chest for your personal belongings. It's a bit dusty."},[r.DECREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE],"bd"),layFlat:new f({title:"Lay Flat",description:"Lay your shirt flat on your bed. The foundation of any laundry folding routine."},[r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE],"sd"),fold:new f({title:"Fold",description:"Fold your shirt. Add some complexity! (Assuming you have something to start with...)"},[r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE],"sd"),putAway:new f({title:"Put Away",description:"Put away your freshly folded clothes."},[r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.MAX,r.IGNORE,r.IGNORE,r.IGNORE],"sd"),drop:new f({title:"The Mess",description:"Oops! You dropped your [?] all over the floor. What a mess..."},[r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX,r.MAX],"bd"),mop:new f({title:"Mop",description:"Mop the floor. This mess might be a bit too much to soak up though."},[r.IGNORE,r.IGNORE,r.DECREMENT,r.DECREMENT,r.IGNORE,r.IGNORE,r.DECREMENT,r.DECREMENT,r.IGNORE,r.IGNORE,r.DECREMENT,r.DECREMENT,r.IGNORE,r.IGNORE,r.DECREMENT,r.DECREMENT],"bd"),sweep:new f({title:"Sweep",description:"Sweep the floor. It's a bit hard to get the corners though.."},[r.IGNORE,r.IGNORE,r.DECREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.DECREMENT,r.DECREMENT,r.IGNORE,r.IGNORE,r.DECREMENT,r.DECREMENT,r.IGNORE,r.IGNORE,r.DECREMENT,r.IGNORE],"bd"),vacuum:new f({title:"Vacuum",description:"Suck up whatever is left."},[r.IGNORE,r.IGNORE,r.IGNORE,r.DECREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.DECREMENT],"bd"),emptyTrash:new f({title:"Empty Trash",description:"Those bins were chalk full of [???]! Much better now..."},[r.IGNORE,r.ZERO,r.IGNORE,r.IGNORE,r.IGNORE,r.ZERO,r.IGNORE,r.IGNORE,r.IGNORE,r.ZERO,r.IGNORE,r.IGNORE,r.IGNORE,r.ZERO,r.IGNORE,r.IGNORE],"bd"),feast:new f({title:"Feast",description:"What a delicious meal! What are we going to do about all the dishes?"},[r.INCREMENT,r.INCREMENT,r.IGNORE,r.IGNORE,r.INCREMENT,r.INCREMENT,r.IGNORE,r.MAX,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.MAX,r.IGNORE,r.MAX,r.MAX],"ch"),rearrange:new f({title:"Rearrange",description:"All the chairs and tables have been moved away from their original places!"},[r.SHIFT_LEFT,r.SHIFT_UP,r.SHIFT_LEFT,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_RIGHT,r.SHIFT_DOWN,r.SHIFT_RIGHT],"ch"),bus:new f({title:"Bus",description:"What a delicious meal! What are we going to do about all the dishes?"},[r.SHIFT_LEFT,r.SHIFT_LEFT,r.SHIFT_LEFT,r.SHIFT_UP,r.SHIFT_DOWN,r.IGNORE,r.IGNORE,r.SHIFT_UP,r.SHIFT_DOWN,r.IGNORE,r.IGNORE,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_RIGHT,r.SHIFT_RIGHT,r.SHIFT_RIGHT],"ch"),rinse:new f({title:"Rinse",description:"Rinse the dishes. This will make them easier to clean."},[r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.SHIFT_LEFT,r.SHIFT_UP,r.SHIFT_LEFT,r.SHIFT_UP,r.SHIFT_DOWN,r.SHIFT_RIGHT,r.SHIFT_DOWN,r.SHIFT_RIGHT,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE],"ch"),scour:new f({title:"Scour",description:"Scour the dishes. Really put your back into it."},[r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_UP,r.SHIFT_UP,r.SHIFT_RIGHT,r.SHIFT_DOWN,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_DOWN,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT],"ch"),dry:new f({title:"Dry",description:"Let the dishes dry. What a lovely sight!"},[r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT,r.SHIFT_LEFT,r.SHIFT_RIGHT],"ch"),laundry:new f({title:"Laundry",description:"Do the laundry. You know how!"},[r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.MAX,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.IGNORE,r.MAX,r.IGNORE,r.IGNORE,r.IGNORE],"sd"),floor:new f({title:"Floor",description:"Clean the floor. You know how!"},[r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE,r.INCREMENT,r.IGNORE,r.IGNORE,r.IGNORE],"bd"),dishes:new f({title:"Dishes",description:"Do the dishes. You know how!"},[r.INCREMENT,r.IGNORE,r.MAX,r.IGNORE,r.INCREMENT,r.IGNORE,r.MAX,r.IGNORE,r.INCREMENT,r.IGNORE,r.MAX,r.IGNORE,r.INCREMENT,r.IGNORE,r.MAX,r.IGNORE],"ch")},S=a(4),g=a(151),y=a(180),H=a(172),x=a(14),_=["classSequence"],M=["parts","currentlyPlayingStep","tabIndex","setTabIndex"],w=["parts","currentlyPlayingStep","tabIndex","setTabIndex"];function A(e){var t=e.classSequence,a=(Object(u.a)(e,_),Object(R.chunk)(t,4));return Object(x.jsx)(x.Fragment,{children:a.map((function(e,t){return Object(x.jsx)("tr",{className:"row",children:e.map((function(e,t){return Object(x.jsx)("td",{className:e,children:Object(x.jsx)(g.a,{className:"step",variant:"outlined"})},"col "+t)}))},"row "+t)}))})}function k(e){var t=e.parts,a=e.currentlyPlayingStep,r=e.tabIndex,c=e.setTabIndex,i=Object(u.a)(e,M),l=t[r],O=l.steps,o=l.sample,d=Object(R.take)(O,G).map((function(e,t){var r="cell ";return r+=n[e]+" ",null!==a&&t===a%G&&(r+="playing"),r}));return Object(s.createElement)("table",Object(S.a)(Object(S.a)({},i),{},{key:r}),Object(x.jsx)("caption",{children:Object(x.jsx)(y.a,{variant:"fullWidth",value:r,onChange:function(e,t){return c(t)},className:"part-selector",children:t.map((function(e,t){return Object(x.jsx)(H.a,{label:e.sample,style:{minWidth:48}},"tab "+t)}))})}),Object(x.jsx)("tbody",{className:o,children:Object(x.jsx)(A,{classSequence:d})}))}function D(e){var t=e.parts,a=e.currentlyPlayingStep,n=e.tabIndex,r=e.setTabIndex,s=Object(u.a)(e,w);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(k,Object(S.a)({parts:t,tabIndex:n,setTabIndex:r,currentlyPlayingStep:a},s))})}var L=["cards","buttonLabel","onClickCard","unremovable","className"];function P(e){var t,a=e.cardId,n=e.cardIndex,s=e.buttonLabel,c=e.onClickCard,i=e.onClickEnabled,l=e.viewCard,O=e.isSelected,o=v[a],E=null===(t=o.pattern)||void 0===t?void 0:t.map((function(e){return"cell "+r[e]}));return Object(x.jsxs)(F.a,{variant:"outlined",className:"card"+(O?" selected":""),onClick:l,children:[Object(x.jsxs)(I.a,{children:[Object(x.jsx)("h2",{children:o.title}),o.sampleTarget&&Object(x.jsx)("span",{children:o.sampleTarget}),E&&Object(x.jsx)("table",{className:"pattern",children:Object(x.jsx)("tbody",{children:Object(x.jsx)(A,{classSequence:E})})})]}),Object(x.jsx)(h.a,{children:i&&Object(x.jsx)(d.a,{variant:"contained",onClick:function(){return c(n)},disabled:!O,children:s})})]})}var X=Object(R.range)(6).map((function(e){return"card-show"}));function W(e){var t=e.cards,a=e.buttonLabel,n=e.onClickCard,r=e.unremovable,c=e.className,i=(Object(u.a)(e,L),Object(s.useState)(0)),l=Object(o.a)(i,2),O=l[0],d=l[1],E=Object(s.useState)(X),F=Object(o.a)(E,2),I=F[0],h=F[1],R=Object(s.useState)(t.length),p=Object(o.a)(R,2),j=p[0],G=p[1];Object(s.useEffect)((function(){if(t.length!==j)return h(X),d(0),void G(t.length);for(var e=Object(N.a)(X),a=function(t){var a=t<O?"displace":"show";e[t]="card-"+a},n=0;n<6;n++)a(n);h(e)}),[t,j,O]);var m=function(e){e>=r&&n(e)};return Object(x.jsx)("div",{className:"sequence "+c,children:Object(x.jsx)(T.a,{component:null,children:t.map((function(e,n){return Object(x.jsx)(b.a,{exit:!0,classNames:"card",timeout:200,children:Object(x.jsx)("div",{className:"card-slot "+I[n],style:{zIndex:6-n},children:Object(x.jsx)(P,{cardId:e,cardIndex:n,buttonLabel:a,onClickCard:function(){return m(n)},onClickEnabled:n>=r,viewCard:function(){var e=n!==O?n:n<t.length-1?n+1:0;d(e)},isSelected:n===O})})},e+":"+n)}))})})}var U=a(35),B=a(181),Y="/mfgj202106/samples/levels/",Z=[{title:"Day 2",description:["After the tutorial."],levelTrack:"".concat(Y,"unmixed_2_1_112_bpm.ogg"),overrideBPM:112,targetParts:[{sample:"bd",steps:[n.ON,n.ON,n.OFF,n.OFF,n.OFF,n.ON,n.OFF,n.ON,n.OFF,n.ON,n.OFF,n.ON,n.OFF,n.OFF,n.ON,n.OFF]},{sample:"sd",steps:[n.OFF,n.OFF,n.OFF,n.OFF,n.ACCENT,n.OFF,n.OFF,n.OFF,n.OFF,n.OFF,n.OFF,n.OFF,n.ON,n.OFF,n.OFF,n.OFF]},{sample:"ch",steps:[n.ACCENT,n.ACCENT,n.ACCENT,n.ACCENT,n.OFF,n.ACCENT,n.ON,n.ON,n.ACCENT,n.ON,n.ON,n.ON,n.OFF,n.ON,n.ACCENT,n.ON]}],startingHand:[],startingSchedule:[],hints:["Things are starting to get hard..."]},{title:"The Laundry",description:["Hey Neon, are you settled in yet?","I'm [???] and I'm a specialist in [???].","Your training starts today."],levelTrack:"".concat(Y,"unmixed_1_1_88_bpm.ogg"),targetParts:[{sample:"sd",steps:[n.OFF,n.OFF,n.OFF,n.OFF,n.ACCENT,n.OFF,n.OFF,n.OFF,n.OFF,n.OFF,n.OFF,n.OFF,n.ACCENT,n.OFF,n.OFF,n.OFF]}],startingHand:["layFlat","fold","putAway"],startingSchedule:[],hints:["Queue up items on your To-Do list and make a plan for the day!","Why don't we get started by doing the laundry?","Is it just me, or is there something absolutely musical about clean clothes?"]},{title:"The Floor",description:["Nice work on that laundry!","Let me introduce you to [???].","We're only just getting started..."],levelTrack:"".concat(Y,"unmixed_1_2_88_bpm.ogg"),targetParts:[{sample:"bd",steps:[n.ACCENT,n.OFF,n.OFF,n.OFF,n.ACCENT,n.OFF,n.OFF,n.OFF,n.ACCENT,n.OFF,n.OFF,n.OFF,n.ACCENT,n.OFF,n.OFF,n.OFF]}],startingHand:["mop","sweep","vacuum","emptyTrash"],startingSchedule:["drop"],hints:["Looks like [???] made a real mess of things when [???] dropped those [???].","Not to worry, though! Cleaning is a subtractive process.","Just like with music, sometimes what's missing is heard loudest."]},{title:"After Dinner",description:["Everything's right back in its place.","You can head to the mess hall now.","[???] will serve you your dinner."],levelTrack:"".concat(Y,"unmixed_1_3_88_bpm.ogg"),targetParts:[{sample:"ch",steps:[n.ON,n.OFF,n.ACCENT,n.OFF,n.ON,n.OFF,n.ACCENT,n.OFF,n.ON,n.OFF,n.ACCENT,n.OFF,n.ON,n.OFF,n.ACCENT,n.OFF]}],startingHand:["rearrange","bus","rinse","scour","dry"],startingSchedule:["feast"],hints:["You've been working hard! You've arrived just in time for dinner.","Err.. Or rather, just in time for cleaning the tables and dishes from dinner..."]},{title:"Putting it All Together",description:["Wow, all the tables and dishes look great!","You've worked hard.","It's time to meet the master..."],levelTrack:"".concat(Y,"unmixed_1_all_88_bpm.ogg"),overrideTrackBars:12,targetParts:[{sample:"sd",steps:[n.OFF,n.OFF,n.OFF,n.OFF,n.ACCENT,n.OFF,n.OFF,n.OFF,n.OFF,n.OFF,n.OFF,n.OFF,n.ACCENT,n.OFF,n.OFF,n.OFF]},{sample:"bd",steps:[n.ON,n.OFF,n.OFF,n.OFF,n.ON,n.OFF,n.OFF,n.OFF,n.ON,n.OFF,n.OFF,n.OFF,n.ON,n.OFF,n.OFF,n.OFF]},{sample:"ch",steps:[n.ON,n.OFF,n.ACCENT,n.OFF,n.ON,n.OFF,n.ACCENT,n.OFF,n.ON,n.OFF,n.ACCENT,n.OFF,n.ON,n.OFF,n.ACCENT,n.OFF]}],startingHand:["laundry","floor","dishes"],startingSchedule:[],hints:["Show me what you've done today!"]}];function q(e){var t=e.turn,a=e.onDismiss,n=Object(s.useState)(t),r=Object(o.a)(n,2),c=r[0],i=r[1],l=Object(s.useState)(!0),O=Object(o.a)(l,2),d=O[0],E=O[1];Object(s.useEffect)((function(){t!==c&&E(!0)}),[c,t]);var N=function(){E(!1),i(t),a()},u=Z[t-1];return Object(x.jsx)(B.a,{open:d,onClose:N,onClick:N,children:Object(x.jsx)(g.a,{variant:"outlined",className:"event-modal",children:Object(x.jsxs)("div",{className:"event-body",children:[Object(x.jsx)("h1",{children:u.title}),u.description.map((function(e,t){return Object(x.jsx)("p",{children:e},t)})),Object(x.jsx)("p",{children:Object(x.jsx)("em",{children:"Press Escape or click/tap anywhere to continue..."})})]})})})}var J=a(177);function z(e){var t=e.progress,a=e.max;return Object(x.jsx)(J.a,{className:"progress-bar",variant:"determinate",value:100*(null===t?0:t+1)/a})}var Q=a(179);function V(e){var t=e.G,a=e.onClick,n=t.hasClearedLevel;return Object(x.jsx)(d.a,{variant:"contained",onClick:a,disabled:!n,className:n?"glow":"",children:"Continue"})}var K={cy:{pitch:"f4",duration:"2n"},bd:{pitch:"e4",duration:"16n"},ch:{pitch:"d4",duration:"16n"},sd:{pitch:"c4",duration:"16n"}},$=new U.b({urls:{f4:"CY/E808_CY-12[short].ogg",e4:"BD/E808_BD[short]-03.wav",d4:"CH/E808_CH-06.wav",c4:"SD/E808_SD-07.wav"},baseUrl:"/mfgj202106/samples/808/"}).toDestination();var ee=a(11),te=function(e,t){var a,r,s,c=Z[e-1],i=c.targetParts.map((function(e){return{sample:e.sample,steps:Array.from({length:G},(function(){return n.OFF}))}})),l=Object(S.a)(Object(S.a)({},c),{},{playerParts:i,playerHand:Object(N.a)(c.startingHand),playerSchedule:Object(N.a)(null!==(a=c.startingSchedule)&&void 0!==a?a:[]),hasClearedLevel:null!==(r=null===t||void 0===t?void 0:t.hasClearedLevel)&&void 0!==r&&r});return(null!==(s=c.startingSchedule)&&void 0!==s?s:[]).forEach((function(e){return v[e].playCard(l)})),l},ae=function(e){var t,a=Object(O.a)(e.targetParts.entries());try{for(a.s();!(t=a.n()).done;)for(var n=Object(o.a)(t.value,2),r=n[0],s=n[1],c=e.playerParts[r],i=0;i<G;i++)if(c.steps[i]!==s.steps[i])return!1}catch(l){a.e(l)}finally{a.f()}return!0},ne={moves:{playCard:function(e,t,a){var n=e.playerHand[a],r=v[n];if(!r)return ee.x;r.playCard(e),e.playerHand.splice(a,1),e.playerSchedule.push(n),ae(e)&&(e.hasClearedLevel=!0)},removeCard:function(e,t,a){if(a<e.startingSchedule.length)return ee.x;var n=e.playerSchedule[a];if(!n)return ee.x;var r=te(t.turn,e);r.playerHand=Object(N.a)(e.playerHand),r.playerHand.push(n);var s,c=Object(O.a)(e.playerSchedule.entries());try{for(c.s();!(s=c.n()).done;){var i=Object(o.a)(s.value,2),l=i[0],d=i[1];if(!(l===a||l<e.startingSchedule.length))v[d].playCard(r),r.playerSchedule.push(d)}}catch(E){c.e(E)}finally{c.f()}return ae(r)&&(e.hasClearedLevel=!0),r},clearSchedule:function(e,t){return ae(e)&&(e.hasClearedLevel=!0),te(t.turn,e)},commitSchedule:function(e,t){var a,n;e.hasClearedLevel&&(null===(a=t.events)||void 0===a||null===(n=a.endTurn)||void 0===n||n.call(a))}},turn:{onBegin:function(e,t){return te(t.turn)}}},re=Object(l.a)({game:ne,board:function(e){var t=e.G,a=e.ctx,r=e.moves,c=t.title,i=t.hints,l=t.levelTrack,N=t.playerParts,u=t.targetParts,F=t.playerHand,I=t.playerSchedule,h=t.overrideTrackBars,T=t.overrideBPM,p=null!==h&&void 0!==h?h:4,j=null!==T&&void 0!==T?T:88;Object(s.useEffect)((function(){return U.d.bpm.value=j,U.e(),U.d.start(),function(){U.d.stop()}}),[j]);var C=Object(s.useState)(i),f=Object(o.a)(C,2),S=f[0],g=f[1];Object(s.useEffect)((function(){g(i)}),[i]);var y=Object(s.useState)(0),H=Object(o.a)(y,2),_=H[0],M=H[1],w=Object(s.useState)(null),A=Object(o.a)(w,2),k=A[0],L=A[1],P=Object(s.useState)(null),X=Object(o.a)(P,2),B=X[0],Y=X[1],Z=Object(s.useState)(void 0),J=Object(o.a)(Z,2),ee=J[0],te=J[1],ae=Object(s.useState)(!1),ne=Object(o.a)(ae,2),re=ne[0],se=ne[1],ce=Object(s.useState)(!0),ie=Object(o.a)(ce,2),le=ie[0],Oe=ie[1],oe=Object(s.useState)(null),de=Object(o.a)(oe,2),Ee=de[0],Ne=de[1],ue=Object(s.useState)(null),Fe=Object(o.a)(ue,2),Ie=Fe[0],he=Fe[1],Re=function(e,t){te(e),L(t)},Te=function(){if(!re){var e=new U.c(Re,Object(R.range)(G*p),"16n");be(),he(e);var t=new U.a(l,(function(){se(!0),U.e(),e.loop=!1,e.start()})).toDestination();Ne(t),t.loop=!1,t.autostart=!0}},be=Object(s.useCallback)((function(){re&&(te(void 0),Y(null),L(null),null===Ie||void 0===Ie||Ie.stop(),he(null),null===Ee||void 0===Ee||Ee.stop(),Ne(null),se(!1),Oe(!0))}),[re,Ie,Ee]);return Object(s.useEffect)((function(){if(B!==k&&"undefined"!==typeof ee&&null!==k&&re){Y(k);var e,t=k%G,a=le?N:u,r=Object(O.a)(a);try{for(r.s();!(e=r.n()).done;){var s=e.value;s.steps[t]!==n.OFF&&$.triggerAttackRelease(K[s.sample].pitch,K[s.sample].duration,ee,s.steps[t]/2)}}catch(c){r.e(c)}finally{r.f()}k>=G*p-1&&be()}}),[ee,N,u,k,B,le,re,be,p]),Object(x.jsxs)(E.a,{container:!0,className:"game-board",alignItems:"center",justify:"center",children:[Object(x.jsx)(q,{turn:a.turn,onDismiss:function(){Oe(!1),Te()}}),Object(x.jsx)(E.a,{item:!0,xs:3,className:"pc-area portrait-area",children:Object(x.jsx)("div",{className:"pc portrait",children:"\xa0"})},"pc-area"),Object(x.jsx)(E.a,{item:!0,xs:6,className:"parts-area",children:Object(x.jsxs)(E.a,{container:!0,className:"parts",justify:"center",children:[Object(x.jsx)(E.a,{item:!0,xs:12,children:Object(x.jsxs)("h1",{children:[a.turn,": ",c]})},"title"),Object(x.jsx)(E.a,{item:!0,xs:1,children:re&&Object(x.jsx)("span",{children:((null!==k&&void 0!==k?k:0)*m).toFixed(1)})},"time-elapsed"),Object(x.jsx)(E.a,{item:!0,xs:10,children:Object(x.jsx)(z,{progress:k,max:p*G})},"progress"),Object(x.jsx)(E.a,{item:!0,xs:1,children:re&&Object(x.jsx)("span",{children:((p*G-(null!==k&&void 0!==k?k:0))*m).toFixed(1)})},"time-remaining"),Object(x.jsx)(E.a,{item:!0,xs:12,className:"start-stop",children:Object(x.jsx)(d.a,{className:re?"stop":"play",onClick:re?be:Te,children:"\xa0"})},"start-stop"),Object(x.jsxs)(E.a,{item:!0,xs:12,className:"current-parts",children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(b.a,{timeout:200,classNames:le?"current":"target",children:Object(x.jsx)(D,{parts:le?N:u,currentlyPlayingStep:k,className:"sampler "+(le?"current":"target"),tabIndex:_,setTabIndex:M})},le?"current":"target")}),Object(x.jsx)(d.a,{variant:"contained",disabled:le,className:le?"selected":"",onClick:function(){Oe(!0),Te()},children:"My Parts"}),"\xa0",Object(x.jsx)(d.a,{variant:"contained",disabled:!le,className:le?"":"selected",onClick:function(){Oe(!1),Te()},children:"Goal"})]}),Object(x.jsx)(E.a,{item:!0,xs:12,className:"dialogue",children:"undefined"!==typeof S&&S.map((function(e,t){return Object(x.jsx)("p",{children:e},t)}))})]},"parts")}),Object(x.jsx)(E.a,{item:!0,xs:3,className:"npc-area portrait-area",children:Object(x.jsx)("div",{className:"npc portrait",children:"\xa0"})},"npc-area"),Object(x.jsx)(E.a,{item:!0,xs:12},"break"),Object(x.jsxs)(E.a,{item:!0,xs:5,className:"hand-area",children:[Object(x.jsx)("h3",{children:"To-Do"}),Object(x.jsx)(W,{cards:F,onClickCard:function(e){r.playCard(e),Oe(!0),Te(),function(e){var t=v[F[e]];t&&g([t.description])}(e)},buttonLabel:"Enqueue",className:"hand",unremovable:0})]},"hand-area"),Object(x.jsxs)(E.a,{item:!0,xs:2,className:"next-day",children:[Object(x.jsx)(d.a,{variant:"contained",onClick:r.clearSchedule,children:"Reset"}),Object(x.jsx)("hr",{}),Object(x.jsx)(V,{G:t,onClick:function(){r.commitSchedule(),be()}})]},"next-day"),Object(x.jsxs)(E.a,{item:!0,xs:5,className:"schedule-area",children:[Object(x.jsx)("h3",{children:"Schedule"}),Object(x.jsx)(W,{cards:I,onClickCard:function(e){r.removeCard(e),Te()},buttonLabel:"Remove",className:"schedule",unremovable:t.startingSchedule.length})]},"schedule-area")]})},numPlayers:1,debug:!0}),se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,184)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};i.a.render(Object(x.jsx)(re,{}),document.getElementById("root")),se()}},[[150,1,2]]]);
//# sourceMappingURL=main.430ab72e.chunk.js.map